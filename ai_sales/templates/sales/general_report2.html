<!DOCTYPE html>

{% load humanize %} {% load static %}

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <title>General report</title>
    <link
      href="{% static 'vendors/iconfonts/font-awesome/css/all.min.css' %}"
      rel="stylesheet"
    />
    <link
      href="{% static 'vendors/css/vendor.bundle.base.css' %}"
      rel="stylesheet"
    />
    <link
      href="{% static 'vendors/css/vendor.bundle.addons.css' %}"
      rel="stylesheet"
    />
    <link href="{% static 'css/style.css' %}" rel="stylesheet" />
    <script src="{% static 'js/main.js' %}"></script>
    <link rel="shortcut icon" href="http://www.urbanui.com/" />

    <style>
      /* General styles */
      body {
        font-family: Arial, sans-serif;
        font-size: 12px;
        color: #333;
        margin: 0;
        padding: 10px; /* Add padding for better spacing */
      }

      /* Header styles */
      .header {
        display: flex;
        align-items: center; /* Align items vertically */
      }

      h1 {
        color: #1c1d1c;
        margin: 0; /* Remove default margin */
        text-align: center; /* Center title */
        flex-grow: 1; /* Allow the title to take available space */
      }

      .contacts {
        text-align: center; /* Center contacts */
      }

      /* Table styling */
      table {
        width: 100%;
        border-collapse: collapse;
        margin: 20px 0;
      }

      th,
      td {
        border: 1px solid #000000;
        padding: 8px;
        text-align: left;
        max-width: 150px; /* Limit maximum width */
        overflow-wrap: break-word; /* Allow words to break */
        word-break: break-word; /* Break long words */
        white-space: normal; /* Allow text to wrap */
        height: auto; /* Allow height to adjust */
      }

      /* Specific style for the subject column */
      td.subject {
        max-width: 200px; /* Set a specific max width for the subject column */
      }

      th {
        background-color: #515451;
        color: white;
        font-weight: bold;
      }

      tbody tr:nth-child(even) {
        background-color: #f2f2f2;
      }

      /* Print styles */
      @media print {
        body {
          margin: 0;
          padding: 0;
        }
        h1 {
          margin: 0 0 10px 0; /* Reduce margin for print */
        }
      }
    </style>
  </head>
  <body>
    <div style="display: flex; align-items: center; padding: 5px">
      {% load static %}
    </div>

    <div
      style="display: flex; justify-content: space-between; width: 100%"
    ></div>
    <p><strong>GENERAL REPORT ( Based on Sales and Expenditures )</strong></p>
      <p>
        General Report <strong>From:</strong> {{ start_date }} &nbsp; | &nbsp;
        <strong>To:</strong> {{ end_date }}
      </p>
      {% comment %}
      <p>Sales Report - {{ today_date }}</p>
      {% endcomment %}
    </div>

    
    <table border="1">
      <thead>
          <!-- New Row Above (Spanning All Columns) -->
          <tr>
              <th colspan="5">Sales Report</th>
          </tr>
          <tr>
              <th>Customer</th>
              <th>Product</th>
              <th>Quantity</th>
              <th>Total Amount</th>
              <th>Date</th>
          </tr>
      </thead>
      <tbody>
          {% for sale in sales_list %}
          <tr>
              <td>{{ sale.customer }}</td>
              <td>{{ sale.product.product_name }}</td>
              <td>{{ sale.quantity }}</td>
              <td>Tsh {{ sale.total_amount|floatformat:2|intcomma }}</td>
              <td>{{ sale.date }}</td>
          </tr>
          {% endfor %}
      </tbody>
  </table>
  
  
      <tr>
        <th>Total Sales</th>
      </tr>
      <tr>
        <td>Tsh {{ total_sales|floatformat:2|intcomma}}</td>
      
      </tr>
    



<!-- Expenditure Report Table -->
<table border="1">
  <thead>
      <!-- Row Above for Expenditure Report -->
      <tr>
          <th colspan="3">Expenditure Report</th>
      </tr>
      <tr>
          <th>Description</th>
          <th>Amount</th>
          <th>Date</th>
      </tr>
  </thead>
  <tbody>
      {% for expenditure in expense_list %}
      <tr>
          <td>{{ expenditure.description }}</td>
          <td>Tsh {{ expenditure.amount|floatformat:2|intcomma }}</td>
          <td>{{ expenditure.date }}</td>
      </tr>
      {% endfor %}
  </tbody>
</table>

<tr>
  <th>Total expenditures</th>
</tr>
<tr>
  <td>Tsh {{total_expense|floatformat:2|intcomma}}</td>

</tr>

<table>
  <tr>
    <th>Amount Remained</th>
  </tr>
  <tr>
    <td>Tsh {{ profit|floatformat:2|intcomma}}</td>
  
  </tr>
</table>
   
  </body>
</html>




